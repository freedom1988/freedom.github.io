<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¬§å§†å®šå¾‹äº’åŠ¨å®éªŒå®¤</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chosen Palette: Warm Neutral (Amber, Neutral, White) -->
    <!-- Application Structure Plan: A single-page interactive lab. Structure: 1. Concept Intro (V, I, R characters), 2. Interactive Simulator (Sliders for V, R; Canvas animation showing analogy), 3. Guided Discovery (Tabs telling user how to use sliders to find V-I and R-I relationships), 4. Summary (Formulas). This structure directly translates the report's "scenes" into an *interactive* experience, prioritizing hands-on learning over passive watching. The user discovers the relationships (Scenes 2 & 3) themselves using the simulator. -->
    <!-- Visualization & Content Choices: Report Info: V, I, R characters/analogy. Goal: Inform. Method: HTML/Tailwind cards. Justification: Clear, static intro. | Report Info: V-I relationship. Goal: Explore. Method: Interactive Canvas + Slider. Interaction: User drags V slider, sees I (particles) change speed. Justification: Directly simulates Scene 2. | Report Info: R-I relationship. Goal: Explore. Method: Interactive Canvas + Slider. Interaction: User drags R slider, sees I (particles) change speed. Justification: Directly simulates Scene 3. | Library: Vanilla JS Canvas API (No Chart.js/Plotly needed, as this is an analogy, not a data chart). -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
        }
        .tab-button.active {
            border-color: #f59e0b;
            background-color: #fffbeb;
            color: #b45309;
        }
        .tab-button {
            border-color: transparent;
        }
    </style>
</head>
<body class="bg-amber-50 text-neutral-800 min-h-screen">

    <div class="container mx-auto p-4 md:p-8 max-w-5xl">

        <!-- 1. æ ‡é¢˜ -->
        <header class="text-center mb-8 md:mb-12">
            <h1 class="text-3xl md:text-5xl font-bold text-amber-700">æ¬§å§†å®šå¾‹äº’åŠ¨å®éªŒå®¤</h1>
            <p class="text-lg md:text-xl text-neutral-600 mt-2">äº²æ‰‹æ“ä½œï¼Œç†è§£ç”µå‹ã€ç”µæµå’Œç”µé˜»çš„å…³ç³»</p>
        </header>

        <!-- 2. æ¦‚å¿µä»‹ç» -->
        <section id="concepts" class="mb-8 md:mb-12">
            <h2 class="text-2xl font-bold text-neutral-700 mb-4 text-center">è®¤è¯†ä¸‰ä¸ªä¸»è§’</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6">
                <!-- ä¼ç‰¹ (V) -->
                <div class="bg-white p-6 rounded-lg shadow-md border border-amber-200">
                    <div class="flex items-center mb-3">
                        <span class="text-4xl mr-3">ğŸ’ª</span>
                        <h3 class="text-2xl font-semibold text-amber-600">ç”µå‹ (V)</h3>
                    </div>
                    <p class="text-neutral-600">**è§’è‰²ï¼š** æ¨åŠ¨è€…ï¼ˆä¼ç‰¹ï¼‰ã€‚</p>
                    <p class="text-neutral-600">**ä½œç”¨ï¼š** ç”µè·¯ä¸­çš„**æ¨åŠ›**æˆ–**å‹åŠ›**ï¼Œå®ƒé©±ä½¿ç”µæµè¿åŠ¨ã€‚ç”µå‹è¶Šé«˜ï¼Œæ¨åŠ›è¶Šå¼ºã€‚</p>
                </div>
                <!-- å®‰åŸ¹ (I) -->
                <div class="bg-white p-6 rounded-lg shadow-md border border-red-200">
                    <div class="flex items-center mb-3">
                        <span class="text-4xl mr-3">ğŸƒ</span>
                        <h3 class="text-2xl font-semibold text-red-600">ç”µæµ (I)</h3>
                    </div>
                    <p class="text-neutral-600">**è§’è‰²ï¼š** å¥”è·‘è€…ï¼ˆå®‰åŸ¹ï¼‰ã€‚</p>
                    <p class="text-neutral-600">**ä½œç”¨ï¼š** ç”µè·¯ä¸­å®é™…**æµåŠ¨**çš„ç”µè·ã€‚æˆ‘ä»¬ç”¨å®ƒæ¥è¡¡é‡ç”µè·æµåŠ¨çš„å¿«æ…¢å’Œæ•°é‡ã€‚</p>
                </div>
                <!-- æ¬§å§† (R) -->
                <div class="bg-white p-6 rounded-lg shadow-md border border-gray-300">
                    <div class="flex items-center mb-3">
                        <span class="text-4xl mr-3">ğŸš§</span>
                        <h3 class="text-2xl font-semibold text-gray-600">ç”µé˜» (R)</h3>
                    </div>
                    <p class="text-neutral-600">**è§’è‰²ï¼š** éšœç¢ç‰©ï¼ˆæ¬§å§†ï¼‰ã€‚</p>
                    <p class="text-neutral-600">**ä½œç”¨ï¼š** å¯¹ç”µæµçš„**é˜»ç¢**ã€‚ç”µé˜»è¶Šå¤§ï¼Œç”µæµè¶Šéš¾ä»¥é€šè¿‡ã€‚</p>
                </div>
            </div>
        </section>

        <!-- 3. äº’åŠ¨æ¨¡æ‹Ÿå™¨ -->
        <section id="simulator" class="bg-white p-6 md:p-8 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold text-neutral-700 mb-6 text-center">åŠ¨æ‰‹è¯•ä¸€è¯•ï¼</h2>
            
            <!-- æ§åˆ¶æ»‘å— -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                <!-- ç”µå‹æ§åˆ¶ -->
                <div>
                    <label for="voltageSlider" class="block text-lg font-medium text-amber-700 mb-2">
                        è°ƒèŠ‚ç”µå‹ (V): <span id="voltageValue" class="font-bold">50</span> V
                    </label>
                    <input id="voltageSlider" type="range" min="1" max="100" value="50" class="w-full h-3 bg-amber-100 rounded-lg appearance-none cursor-pointer accent-amber-500">
                </div>
                <!-- ç”µé˜»æ§åˆ¶ -->
                <div>
                    <label for="resistanceSlider" class="block text-lg font-medium text-gray-700 mb-2">
                        è°ƒèŠ‚ç”µé˜» (R): <span id="resistanceValue" class="font-bold">50</span> Î©
                    </label>
                    <input id="resistanceSlider" type="range" min="1" max="100" value="50" class="w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-gray-500">
                </div>
            </div>

            <!-- åŠ¨ç”»ç”»å¸ƒ -->
            <div class="w-full max-w-2xl mx-auto bg-gray-100 rounded-lg h-64 md:h-80 shadow-inner overflow-hidden border">
                <canvas id="ohmCanvas"></canvas>
            </div>

            <!-- ç»“æœæ˜¾ç¤º -->
            <div class="text-center mt-6">
                <h3 class="text-2xl font-bold text-neutral-800">
                    è®¡ç®—å‡ºçš„ç”µæµ (I) = 
                    <span id="currentValue" class="text-red-600 font-mono text-3xl">1.00</span> A
                </h3>
                <p class="text-lg text-neutral-600 font-mono mt-2">(I = V / R)</p>
            </div>
        </section>

        <!-- 4. å¼•å¯¼å‘ç° -->
        <section id="discovery" class="mt-8 md:mt-12">
            <h2 class="text-2xl font-bold text-neutral-700 mb-4 text-center">å¼•å¯¼å‘ç°</h2>
            <p class="text-center text-neutral-600 mb-6">ä½¿ç”¨ä¸Šé¢çš„æ¨¡æ‹Ÿå™¨æ¥äº²è‡ªéªŒè¯æ¬§å§†å®šå¾‹çš„ä¸¤ä¸ªå…³é”®å…³ç³»ï¼š</p>
            
            <div class="bg-white rounded-lg shadow-md overflow-hidden">
                <!-- Tab æŒ‰é’® -->
                <div class="flex border-b border-gray-200">
                    <button id="tab1" class="tab-button flex-1 p-4 text-lg font-semibold border-b-4 transition-all duration-200 active">
                        å®éªŒä¸€ï¼šç”µå‹ vs ç”µæµ
                    </button>
                    <button id="tab2" class="tab-button flex-1 p-4 text-lg font-semibold border-b-4 transition-all duration-200">
                        å®éªŒäºŒï¼šç”µé˜» vs ç”µæµ
                    </button>
                </div>
                
                <!-- Tab å†…å®¹ -->
                <div id="content1" class="p-6">
                    <h3 class="text-xl font-semibold text-amber-700 mb-3">å®éªŒä¸€ï¼šç”µå‹ä¸ç”µæµçš„å…³ç³»ï¼ˆä¿æŒç”µé˜»ä¸å˜ï¼‰</h3>
                    <p class="text-lg text-neutral-600 mb-4">
                        **æ“ä½œï¼š**
                        <br>
                        1. å°†â€œç”µé˜» (R)â€æ»‘å—è®¾ç½®åˆ°ä¸€ä¸ªä¸­é—´å€¼ï¼ˆä¾‹å¦‚ 50 Î©ï¼‰ã€‚
                        <br>
                        2. ç¼“æ…¢æ‹–åŠ¨â€œç”µå‹ (V)â€æ»‘å—ï¼Œè§‚å¯ŸåŠ¨ç”»å’Œâ€œç”µæµ (I)â€çš„æ•°å€¼ã€‚
                    </p>
                    <div class="bg-amber-50 border-l-4 border-amber-400 p-4 rounded">
                        <p class="font-semibold text-amber-800 text-lg">
                            **ä½ ä¼šå‘ç°ï¼š** ç”µå‹ï¼ˆæ¨åŠ›ï¼‰è¶Šå¤§ï¼Œç”µæµï¼ˆå¥”è·‘è€…ï¼‰çš„é€Ÿåº¦è¶Šå¿«ã€æ•°é‡è¶Šå¤šã€‚
                            <br>
                            <strong class="mt-2 block">ç»“è®ºï¼šå½“ç”µé˜» ($R$) ä¸å˜æ—¶ï¼Œç”µæµ ($I$) ä¸ç”µå‹ ($V$) æˆæ­£æ¯”ã€‚</strong>
                        </p>
                    </div>
                </div>
                
                <div id="content2" class="p-6 hidden">
                    <h3 class="text-xl font-semibold text-gray-700 mb-3">å®éªŒäºŒï¼šç”µé˜»ä¸ç”µæµçš„å…³ç³»ï¼ˆä¿æŒç”µå‹ä¸å˜ï¼‰</h3>
                    <p class="text-lg text-neutral-600 mb-4">
                        **æ“ä½œï¼š**
                        <br>
                        1. å°†â€œç”µå‹ (V)â€æ»‘å—è®¾ç½®åˆ°ä¸€ä¸ªä¸­é—´å€¼ï¼ˆä¾‹å¦‚ 50 Vï¼‰ã€‚
                        <br>
                        2. ç¼“æ…¢æ‹–åŠ¨â€œç”µé˜» (R)â€æ»‘å—ï¼Œè§‚å¯ŸåŠ¨ç”»å’Œâ€œç”µæµ (I)â€çš„æ•°å€¼ã€‚
                    </p>
                    <div class="bg-gray-100 border-l-4 border-gray-400 p-4 rounded">
                        <p class="font-semibold text-gray-800 text-lg">
                            **ä½ ä¼šå‘ç°ï¼š** ç”µé˜»ï¼ˆéšœç¢ï¼‰è¶Šå¤§ï¼Œç”µæµï¼ˆå¥”è·‘è€…ï¼‰çš„é€Ÿåº¦è¶Šæ…¢ã€æ•°é‡è¶Šå°‘ã€‚
                            <br>
                            <strong class="mt-2 block">ç»“è®ºï¼šå½“ç”µå‹ ($V$) ä¸å˜æ—¶ï¼Œç”µæµ ($I$) ä¸ç”µé˜» ($R$) æˆåæ¯”ã€‚</strong>
                        </p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- 5. æ€»ç»“ -->
        <footer class="mt-12 text-center text-neutral-600">
            <h2 class="text-2xl font-bold text-neutral-700 mb-4">æ ¸å¿ƒå…¬å¼</h2>
            <div class="flex flex-col md:flex-row justify-center gap-4">
                <div class="bg-white p-4 rounded-lg shadow-md font-mono text-2xl font-bold text-neutral-700">V = I Ã— R</div>
                <div class="bg-white p-4 rounded-lg shadow-md font-mono text-2xl font-bold text-red-600">I = V / R</div>
                <div class="bg-white p-4 rounded-lg shadow-md font-mono text-2xl font-bold text-neutral-700">R = V / I</div>
            </div>
        </footer>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // è·å–å…ƒç´ 
            const voltageSlider = document.getElementById('voltageSlider');
            const resistanceSlider = document.getElementById('resistanceSlider');
            const voltageValue = document.getElementById('voltageValue');
            const resistanceValue = document.getElementById('resistanceValue');
            const currentValue = document.getElementById('currentValue');
            
            const canvas = document.getElementById('ohmCanvas');
            const ctx = canvas.getContext('2d');
            
            const tab1 = document.getElementById('tab1');
            const tab2 = document.getElementById('tab2');
            const content1 = document.getElementById('content1');
            const content2 = document.getElementById('content2');

            let voltage = parseFloat(voltageSlider.value);
            let resistance = parseFloat(resistanceSlider.value);
            let current = voltage / resistance;
            
            let particles = [];
            const maxParticles = 100;

            function resizeCanvas() {
                const container = canvas.parentElement;
                canvas.width = container.clientWidth;
                canvas.height = container.clientHeight;
                initParticles();
            }

            function initParticles() {
                particles = [];
                for (let i = 0; i < maxParticles; i++) {
                    particles.push({
                        x: Math.random() * canvas.width,
                        y: Math.random() * canvas.height,
                        radius: Math.random() * 2 + 1,
                    });
                }
            }
            
            function updateValues() {
                voltage = parseFloat(voltageSlider.value);
                resistance = parseFloat(resistanceSlider.value);
                current = voltage / resistance;
                
                voltageValue.textContent = voltage.toFixed(0);
                resistanceValue.textContent = resistance.toFixed(0);
                currentValue.textContent = current.toFixed(2);
            }

            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                const w = canvas.width;
                const h = canvas.height;
                
                // 1. ç»˜åˆ¶æ¨åŠ¨è€… (ç”µå‹)
                const pusherWidth = w * 0.1;
                const pusherHeight = h * (0.2 + (voltage / 100) * 0.6); // é«˜åº¦éšç”µå‹å˜åŒ–
                ctx.fillStyle = 'rgba(245, 158, 11, 0.6)'; // amber-500
                ctx.fillRect(0, (h - pusherHeight) / 2, pusherWidth, pusherHeight);
                ctx.fillStyle = '#b45309';
                ctx.font = 'bold 16px sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText('V', pusherWidth / 2, h / 2 + 6);

                // 2. ç»˜åˆ¶éšœç¢ç‰© (ç”µé˜»)
                const obstacleWidth = w * 0.1;
                const gapHeight = h * (1.0 - (resistance / 100) * 0.9); // é—´éš™éšç”µé˜»å˜åŒ–
                const obstacleTopHeight = (h - gapHeight) / 2;
                ctx.fillStyle = 'rgba(107, 114, 128, 0.6)'; // gray-500
                ctx.fillRect(w * 0.5 - obstacleWidth / 2, 0, obstacleWidth, obstacleTopHeight);
                ctx.fillRect(w * 0.5 - obstacleWidth / 2, h - obstacleTopHeight, obstacleWidth, obstacleTopHeight);
                ctx.fillStyle = '#374151';
                ctx.fillText('R', w / 2, obstacleTopHeight / 2 + 6);
                ctx.fillText('R', w / 2, h - obstacleTopHeight / 2 + 6);
                
                // 3. ç»˜åˆ¶ç”µæµç²’å­ (å®‰åŸ¹)
                const particleSpeed = current * 2; // é€Ÿåº¦éšç”µæµå˜åŒ–
                const numVisibleParticles = Math.floor(maxParticles * (current / 10)); // ç²’å­æ•°é‡éšç”µæµå˜åŒ–
                
                ctx.fillStyle = 'rgba(220, 38, 38, 0.7)'; // red-600
                
                for (let i = 0; i < numVisibleParticles && i < particles.length; i++) {
                    let p = particles[i];
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                    ctx.fill();
                    
                    p.x += particleSpeed + (p.radius - 1.5);
                    
                    if (p.x > w) {
                        p.x = 0;
                        p.y = Math.random() * h;
                    }

                    // ç¢°æ’æ£€æµ‹ (ç®€å•)
                    if (p.x > (w * 0.5 - obstacleWidth / 2) && p.x < (w * 0.5 + obstacleWidth / 2)) {
                        if (p.y < obstacleTopHeight || p.y > (h - obstacleTopHeight)) {
                            p.x = w * 0.5 - obstacleWidth / 2 - p.radius;
                        }
                    }
                }
            }
            
            function animate() {
                updateValues();
                draw();
                requestAnimationFrame(animate);
            }

            // Tab åˆ‡æ¢é€»è¾‘
            function setupTabs() {
                tab1.addEventListener('click', () => {
                    tab1.classList.add('active');
                    tab2.classList.remove('active');
                    content1.classList.remove('hidden');
                    content2.classList.add('hidden');
                });
                
                tab2.addEventListener('click', () => {
                    tab2.classList.add('active');
                    tab1.classList.remove('active');
                    content2.classList.remove('hidden');
                    content1.classList.add('hidden');
                });
            }

            // åˆå§‹åŒ–
            window.addEventListener('resize', resizeCanvas);
            resizeCanvas();
            setupTabs();
            animate();
        });
    </script>
</body>
</html>
